create database LPBDALPOO;

create table cliente(
cod_cli int(4)auto_increment not null,
nome varchar(30) not null,
data_nasc date not null,
endereço varchar(30),
telefone varchar(15),
email varchar(40),
primary key(cod_cli)
);

create table vendas(
cod_venda int(4) auto_increment not null,
data_hora datetime not null,
total decimal(10,2) not null,
cli_cod_cli int not null,
primary key(cod_venda),
foreign key(cli_cod_cli) references cliente(cod_cli)
);

create table itens_venda(
cod_compra int(4) auto_increment not null,
quantidade int(4) not null,
sub_total decimal(10,2),
venda_cod_venda int not null,
prod_cod_prod int not null,
primary key(cod_compra),
foreign key(venda_cod_venda) references vendas(cod_venda),
foreign key(prod_cod_prod) references produtos(cod_prod)
);

create table produtos(
cod_prod int(4) auto_increment not null,
preço_venda decimal(10,2) not null,
descriçao varchar(60) not null,
data_validade date not null,
preço_custo decimal(10,2) not null,
estoque int(5),
dist_cod_dist int not null,
primary key(cod_prod),
foreign key(dist_cod_dist) references distribuidores(cod_dist)
);

create table distribuidores(
cod_dist int(4) auto_increment not null,
nome_fantasia varchar(35) not null,
razao_social varchar(35) not null,
telefone varchar(15) not null,
email varchar (25) not null,
primary key(cod_dist)
);
